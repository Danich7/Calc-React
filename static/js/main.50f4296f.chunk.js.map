{"version":3,"sources":["components/total/Total.js","components/history/HistoryItem.js","components/history/History.js","components/operation/Operation.js","App.js","index.js"],"names":["Total","resultExpenses","resultIncome","totalBalance","className","HistoryItem","transaction","delTransaction","add","description","amount","onClick","id","History","transactions","map","item","key","Operation","addTransaction","addDescription","addAmount","type","placeholder","onChange","value","App","state","JSON","parse","localStorage","getItem","Date","toString","parseFloat","push","setState","getTotalBalance","e","target","getIncome","filter","reduce","acc","getExpenses","this","addStorage","setItem","stringify","Fragment","Component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.50f4296f.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst Total = ({ resultExpenses, resultIncome, totalBalance }) => (\r\n  <section className=\"total\">\r\n    <header className=\"total__header\">\r\n      <h3>Баланс</h3>\r\n      <p className=\"total__balance\">{totalBalance} ₽</p>\r\n    </header>\r\n    <div className=\"total__main\">\r\n      <div className=\"total__main-item total__income\">\r\n        <h4>Доходы</h4>\r\n        <p className=\"total__money total__money-income\">\r\n          {resultIncome} ₽\r\n        </p>\r\n      </div>\r\n      <div className=\"total__main-item total__expenses\">\r\n        <h4>Расходы</h4>\r\n        <p className=\"total__money total__money-expenses\">\r\n          {resultExpenses} ₽\r\n        </p>\r\n      </div>\r\n    </div>\r\n  </section>\r\n);\r\n\r\nexport default Total;","import React from 'react';\r\n\r\nconst HistoryItem = ({ transaction, delTransaction }) => (\r\n  <li className={`history__item ${transaction.add ? 'history__item-plus' : 'history__item-minus'}`}>{transaction.description}\r\n    <span className=\"history__money\">{transaction.amount} ₽</span>\r\n    <button className=\"history__delete\" onClick={() => delTransaction(transaction.id)}>x</button>\r\n  </li>\r\n);\r\n\r\nexport default HistoryItem;","import React from 'react';\r\nimport HistoryItem from './HistoryItem';\r\n\r\n\r\nconst History = ({ transactions, delTransaction }) => (\r\n  <section className=\"history\">\r\n    <h3>История расходов</h3>\r\n    <ul className=\"history__list\">\r\n      {transactions.map(item => <HistoryItem key={item.id} transaction={item} delTransaction={delTransaction}/>)}\r\n    </ul>\r\n  </section>\r\n);\r\n\r\nexport default History;","import React from 'react';\r\n\r\nconst Operation = ({ addTransaction, addDescription, addAmount, description, amount }) => (\r\n  <section className=\"operation\">\r\n    <h3>Новая операция</h3>\r\n    <form id=\"form\">\r\n      <label>\r\n        <input \r\n          type=\"text\" \r\n          className=\"operation__fields operation__name\" \r\n          placeholder=\"Наименование операции\"\r\n          onChange={addDescription}\r\n          value={description}\r\n          />\r\n      </label>\r\n      <label>\r\n        <input \r\n          type=\"number\" \r\n          className=\"operation__fields operation__amount\" \r\n          placeholder=\"Введите сумму\"\r\n          onChange={addAmount}\r\n          value={amount}\r\n          />\r\n      </label>\r\n      <div className=\"operation__btns\">\r\n        <button \r\n          onClick={() => addTransaction(false)}\r\n          type=\"button\" \r\n          className=\"operation__btn operation__btn-subtract\">РАСХОД</button>\r\n        <button \r\n          onClick={() => addTransaction(true)}\r\n          type=\"button\" \r\n          className=\"operation__btn operation__btn-add\">ДОХОД</button>\r\n      </div>\r\n    </form>\r\n  </section>\r\n);\r\n\r\nexport default Operation;","import React, { Component } from 'react';\r\nimport Total from './components/total/Total';\r\nimport History from './components/history/History';\r\nimport Operation from './components/operation/Operation';\r\n\r\nclass App extends Component {\r\n\r\n  state = {\r\n    transactions: JSON.parse(localStorage.getItem('calcMoney')) || [],\r\n    description: '',\r\n    amount: '',\r\n    resultIncome: 0,\r\n    resultExpenses: 0,\r\n    totalBalance: 0,\r\n  }\r\n\r\n  componentWillMount(){\r\n    this.getTotalBalance();\r\n  }\r\n\r\n  componentDidUpdate(){\r\n    this.addStorage();\r\n  }\r\n\r\n\r\n  addTransaction = add => {\r\n\r\n    const transactions = [...this.state.transactions];\r\n\r\n    const transaction = {\r\n      id: `cmr${(+new Date()).toString(16)}`,\r\n      description: this.state.description,\r\n      amount: parseFloat(this.state.amount),\r\n      add\r\n    }\r\n\r\n    transactions.push(transaction);\r\n\r\n    this.setState({ \r\n      transactions,\r\n      description: '',\r\n      amount: '',\r\n    }, this.getTotalBalance);\r\n  }\r\n  \r\n  addAmount = e => {\r\n    this.setState({amount: e.target.value});\r\n  }\r\n\r\n  addDescription = e => {\r\n    this.setState({ description: e.target.value });\r\n  }\r\n\r\n  getIncome = () => this.state.transactions.filter(item => item.add).reduce((acc, item) => item.amount + acc, 0)\r\n  \r\n  getExpenses = () => this.state.transactions.filter(item => !item.add).reduce((acc, item) => item.amount + acc, 0)\r\n  \r\n  getTotalBalance () {\r\n    const resultIncome = this.getIncome();\r\n    const resultExpenses = this.getExpenses();\r\n\r\n    const totalBalance = resultIncome - resultExpenses;\r\n\r\n    this.setState({\r\n      resultIncome,\r\n      resultExpenses,\r\n      totalBalance,\r\n    });\r\n  }\r\n\r\n  addStorage() {\r\n    localStorage.setItem('calcMoney', JSON.stringify(this.state.transactions))\r\n  }\r\n\r\n  delTransaction = key => {\r\n    const transactions = this.state.transactions.filter(item => item.id !== key);\r\n    this.setState({ transactions }, this.getTotalBalance);\r\n  }\r\n\r\n\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n        <header>\r\n          <h1>Кошелек</h1>\r\n          <h2>Калькулятор расходов</h2>\r\n        </header>\r\n        <main>\r\n          <div className=\"container\">\r\n            <Total\r\n            resultExpenses={this.state.resultExpenses}\r\n            resultIncome={this.state.resultIncome}\r\n            totalBalance={this.state.totalBalance}\r\n            />\r\n            <History\r\n            transactions={this.state.transactions}\r\n            delTransaction={this.delTransaction}\r\n            />\r\n            <Operation \r\n            addTransaction={this.addTransaction}\r\n            addAmount={this.addAmount}\r\n            addDescription={this.addDescription}\r\n            description={this.state.description}\r\n            amount={this.state.amount}\r\n            />\r\n          </div>\r\n        </main>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport './normalize.css';\r\nimport './style.css';\r\n\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);"],"sourceRoot":""}